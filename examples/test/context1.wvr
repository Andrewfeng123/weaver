(var A (Int) Int)
(var hd tl x Int)

(use
  (and (= x 5) (= hd tl))
  (and (= (A hd) 5) (= (+ hd 1) tl))
  (and (= (A hd) 5) (< (+ hd 1) tl))
  (and (= x 5) (< hd tl)))

(assume (and (= hd tl) (= x 5)))

(par
  (loop
    (atomic
      (assume (= (A tl) 5))
      (set! tl (+ tl 1))))
  (loop
    (atomic
      (assume (< hd tl))
      (set! x (A hd))
      (set! hd (+ hd 1)))))

(assume (not (= x 5)))
